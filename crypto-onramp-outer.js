!function(){"use strict";function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}var t={723:function(e,t,r){function n(e){l.length||(a(),!0),l[l.length]=e}function o(){for(;f<l.length;){var e=f;if(f+=1,l[e].call(),f>1024){for(var t=0,r=l.length-f;t<r;t++)l[t]=l[t+f];l.length-=f,f=0}}l.length=0,f=0,!1}function i(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}e.exports=n;var a,u,c,s,l=[],f=0,p=void 0!==r.g?r.g:self,d=p.MutationObserver||p.WebKitMutationObserver;"function"==typeof d?(u=1,c=new d(o),s=document.createTextNode(""),c.observe(s,{characterData:!0}),a=function(){u=-u,s.data=u}):a=i(o),n.requestFlush=a,n.makeRequestCallFromTimer=i},3779:function(e,t,r){var n=r(6274).Promise,o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=n))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,r[0]&&(u=0)),u;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}var n,o,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCClient=void 0;var a=r(6738),u=r(2165),c=function(){function e(e,t){this._send=e,this.createID=t,this.idToResolveMap=new Map,this.id=0}return e.prototype._createID=function(){return this.createID?this.createID():++this.id},e.prototype.timeout=function(e,t){var r=this;void 0===t&&(t=function(e){return(0,a.createJSONRPCErrorResponse)(e,u.DefaultErrorCode,"Request timeout")});var o=function(o,i){var a=setTimeout((function(){o.forEach((function(e){var n=r.idToResolveMap.get(e);n&&(r.idToResolveMap.delete(e),n(t(e)))}))}),e);return i().then((function(e){return clearTimeout(a),e}),(function(e){return clearTimeout(a),n.reject(e)}))};return{request:function(e,t,n){var i=r._createID();return o([i],(function(){return r.requestWithID(e,t,n,i)}))},requestAdvanced:function(e,t){return function(e,t){var n=(Array.isArray(e)?e:[e]).map((function(e){return e.id})).filter(s);return o(n,(function(){return r.requestAdvanced(e,t)}))}(e,t)}}},e.prototype.request=function(e,t,r){return this.requestWithID(e,t,r,this._createID())},e.prototype.requestWithID=function(e,t,r,u){return o(this,void 0,void 0,(function(){var o,c;return i(this,(function(i){switch(i.label){case 0:return o=(0,a.createJSONRPCRequest)(u,e,t),[4,this.requestAdvanced(o,r)];case 1:return void 0===(c=i.sent()).result||c.error?void 0===c.result&&c.error?[2,n.reject(new a.JSONRPCErrorException(c.error.message,c.error.code,c.error.data))]:[2,n.reject(new Error("An unexpected error occurred"))]:[2,c.result]}}))}))},e.prototype.requestAdvanced=function(e,t){var r=this,o=Array.isArray(e);Array.isArray(e)||(e=[e]);var i=e.filter((function(e){return s(e.id)})),c=i.map((function(e){return new n((function(t){return r.idToResolveMap.set(e.id,t)}))})),l=n.all(c).then((function(e){return o||!e.length?e:e[0]}));return this.send(o?e:e[0],t).then((function(){return l}),(function(e){return i.forEach((function(t){r.receive((0,a.createJSONRPCErrorResponse)(t.id,u.DefaultErrorCode,e&&e.message||"Failed to send a request"))})),l}))},e.prototype.notify=function(e,t,r){var n=(0,a.createJSONRPCNotification)(e,t);this.send(n,r).then(void 0,(function(){}))},e.prototype.send=function(e,t){return o(this,void 0,void 0,(function(){return i(this,(function(){return[2,this._send(e,t)]}))}))},e.prototype.rejectAllPendingRequests=function(e){this.idToResolveMap.forEach((function(t,r){return t((0,a.createJSONRPCErrorResponse)(r,u.DefaultErrorCode,e))})),this.idToResolveMap.clear()},e.prototype.receive=function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){var r=t.idToResolveMap.get(e.id);r&&(t.idToResolveMap.delete(e.id),r(e))}))},e}();t.JSONRPCClient=c;var s=function(e){return null!=e}},4569:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3779),t),o(r(5891),t),o(r(6738),t),o(r(3479),t),o(r(8451),t)},5891:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},2165:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultErrorCode=void 0,t.DefaultErrorCode=0},6738:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.createJSONRPCNotification=t.createJSONRPCRequest=t.createJSONRPCSuccessResponse=t.createJSONRPCErrorResponse=t.JSONRPCErrorCode=t.JSONRPCErrorException=t.isJSONRPCResponses=t.isJSONRPCResponse=t.isJSONRPCRequests=t.isJSONRPCRequest=t.isJSONRPCID=t.JSONRPC=void 0,t.JSONRPC="2.0";t.isJSONRPCID=function(e){return"string"==typeof e||"number"==typeof e||null===e};t.isJSONRPCRequest=function(e){return e.jsonrpc===t.JSONRPC&&void 0!==e.method&&void 0===e.result&&void 0===e.error};t.isJSONRPCRequests=function(e){return Array.isArray(e)&&e.every(t.isJSONRPCRequest)};t.isJSONRPCResponse=function(e){return e.jsonrpc===t.JSONRPC&&void 0!==e.id&&(void 0!==e.result||void 0!==e.error)};t.isJSONRPCResponses=function(e){return Array.isArray(e)&&e.every(t.isJSONRPCResponse)};var o=function(e,t,r){var n={code:e,message:t};return null!=r&&(n.data=r),n},i=function(e){function t(r,n,o){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i.code=n,i.data=o,i}return n(t,e),t.prototype.toObject=function(){return o(this.code,this.message,this.data)},t}(Error);t.JSONRPCErrorException=i,function(e){e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"}(t.JSONRPCErrorCode||(t.JSONRPCErrorCode={}));t.createJSONRPCErrorResponse=function(e,r,n,i){return{jsonrpc:t.JSONRPC,id:e,error:o(r,n,i)}};t.createJSONRPCSuccessResponse=function(e,r){return{jsonrpc:t.JSONRPC,id:e,result:null!=r?r:null}};t.createJSONRPCRequest=function(e,r,n){return{jsonrpc:t.JSONRPC,id:e,method:r,params:n}};t.createJSONRPCNotification=function(e,r){return{jsonrpc:t.JSONRPC,method:e,params:r}}},8451:function(e,t,r){var n=r(6274).Promise,o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=n))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,r[0]&&(u=0)),u;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}var n,o,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCServerAndClient=void 0;var a=r(6738),u=function(){function e(e,t,r){var n;void 0===r&&(r={}),this.server=e,this.client=t,this.errorListener=null!==(n=r.errorListener)&&void 0!==n?n:console.warn}return e.prototype.applyServerMiddleware=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.server).applyMiddleware.apply(e,t)},e.prototype.hasMethod=function(e){return this.server.hasMethod(e)},e.prototype.addMethod=function(e,t){this.server.addMethod(e,t)},e.prototype.addMethodAdvanced=function(e,t){this.server.addMethodAdvanced(e,t)},e.prototype.timeout=function(e){return this.client.timeout(e)},e.prototype.request=function(e,t,r){return this.client.request(e,t,r)},e.prototype.requestAdvanced=function(e,t){return this.client.requestAdvanced(e,t)},e.prototype.notify=function(e,t,r){this.client.notify(e,t,r)},e.prototype.rejectAllPendingRequests=function(e){this.client.rejectAllPendingRequests(e)},e.prototype.receiveAndSend=function(e,t,r){return o(this,void 0,void 0,(function(){var o,u;return i(this,(function(i){switch(i.label){case 0:return(0,a.isJSONRPCResponse)(e)||(0,a.isJSONRPCResponses)(e)?(this.client.receive(e),[3,4]):[3,1];case 1:return(0,a.isJSONRPCRequest)(e)||(0,a.isJSONRPCRequests)(e)?[4,this.server.receive(e,t)]:[3,3];case 2:return(o=i.sent())?[2,this.client.send(o,r)]:[3,4];case 3:return u="Received an invalid JSON-RPC message",this.errorListener(u,e),[2,n.reject(new Error(u))];case 4:return[2]}}))}))},e}();t.JSONRPCServerAndClient=u},3479:function(e,t,r){var n=r(6274).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=n))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,r[0]&&(u=0)),u;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}var n,o,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCServer=void 0;var c=r(6738),s=r(2165),l=function(e){return(0,c.createJSONRPCErrorResponse)((0,c.isJSONRPCID)(e.id)?e.id:null,c.JSONRPCErrorCode.InvalidRequest,"Invalid Request")},f=function(){function e(e){var t;void 0===e&&(e={}),this.mapErrorToJSONRPCErrorResponse=y,this.nameToMethodDictionary={},this.middleware=null,this.errorListener=null!==(t=e.errorListener)&&void 0!==t?t:console.warn}return e.prototype.hasMethod=function(e){return!!this.nameToMethodDictionary[e]},e.prototype.addMethod=function(e,t){this.addMethodAdvanced(e,this.toJSONRPCMethod(t))},e.prototype.toJSONRPCMethod=function(e){return function(t,r){var o=e(t.params,r);return n.resolve(o).then((function(e){return h(t.id,e)}))}},e.prototype.addMethodAdvanced=function(e,t){var r;this.nameToMethodDictionary=o(o({},this.nameToMethodDictionary),((r={})[e]=t,r))},e.prototype.receiveJSON=function(e,t){var r=this.tryParseRequestJSON(e);return r?this.receive(r,t):n.resolve((0,c.createJSONRPCErrorResponse)(null,c.JSONRPCErrorCode.ParseError,"Parse error"))},e.prototype.tryParseRequestJSON=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.receive=function(e,t){return Array.isArray(e)?this.receiveMultiple(e,t):this.receiveSingle(e,t)},e.prototype.receiveMultiple=function(e,t){return i(this,void 0,void 0,(function(){var r,o=this;return a(this,(function(i){switch(i.label){case 0:return[4,n.all(e.map((function(e){return o.receiveSingle(e,t)})))];case 1:return 1===(r=i.sent().filter(p)).length?[2,r[0]]:r.length?[2,r]:[2,null]}}))}))},e.prototype.receiveSingle=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return a(this,(function(o){switch(o.label){case 0:return r=this.nameToMethodDictionary[e.method],(0,c.isJSONRPCRequest)(e)?[3,1]:[2,l(e)];case 1:return[4,this.callMethod(r,e,t)];case 2:return n=o.sent(),[2,v(e,n)]}}))}))},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.middleware?this.middleware=this.combineMiddlewares(u([this.middleware],e,!0)):this.middleware=this.combineMiddlewares(e)},e.prototype.combineMiddlewares=function(e){return e.length?e.reduce(this.middlewareReducer):null},e.prototype.middlewareReducer=function(e,t){return function(r,n,o){return e((function(e,n){return t(r,e,n)}),n,o)}},e.prototype.callMethod=function(e,t,r){var o=this,i=function(e){return o.errorListener('An unexpected error occurred while executing "'.concat(t.method,'" JSON-RPC method:'),e),n.resolve(o.mapErrorToJSONRPCErrorResponseIfNecessary(t.id,e))};try{return(this.middleware||d)((function(t,r){return e?e(t,r):void 0!==t.id?n.resolve((o=t.id,(0,c.createJSONRPCErrorResponse)(o,c.JSONRPCErrorCode.MethodNotFound,"Method not found"))):n.resolve(null);var o}),t,r).then(void 0,i)}catch(e){return i(e)}},e.prototype.mapErrorToJSONRPCErrorResponseIfNecessary=function(e,t){return void 0!==e?this.mapErrorToJSONRPCErrorResponse(e,t):null},e}();t.JSONRPCServer=f;var p=function(e){return null!==e},d=function(e,t,r){return e(t,r)},h=function(e,t){return void 0!==e?(0,c.createJSONRPCSuccessResponse)(e,t):null},y=function(e,t){var r,n,o=null!==(r=null==t?void 0:t.message)&&void 0!==r?r:"An unexpected error occurred",i=s.DefaultErrorCode;return t instanceof c.JSONRPCErrorException&&(i=t.code,n=t.data),(0,c.createJSONRPCErrorResponse)(e,i,o,n)},v=function(e,t){return t||(void 0!==e.id?(0,c.createJSONRPCErrorResponse)(e.id,c.JSONRPCErrorCode.InternalError,"Internal error"):null)}},3434:function(e,t,r){function n(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==n&&l(e,this)}function i(e,t){for(;3===e._81;)e=e._65;if(o._10&&o._10(e),0===e._81)return 0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t);!function(e,t){f((function(){var r=1===e._81?t.onFulfilled:t.onRejected;if(null!==r){var n=function(e,t){try{return e(t)}catch(e){return p=e,d}}(r,e._65);n===d?u(t.promise,p):a(t.promise,n)}else 1===e._81?a(t.promise,e._65):u(t.promise,e._65)}))}(e,t)}function a(e,t){if(t===e)return u(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=function(e){try{return e.then}catch(e){return p=e,d}}(t);if(r===d)return u(e,p);if(r===e.then&&t instanceof o)return e._81=3,e._65=t,void c(e);if("function"==typeof r)return void l(r.bind(t),e)}e._81=1,e._65=t,c(e)}function u(e,t){e._81=2,e._65=t,o._97&&o._97(e,t),c(e)}function c(e){if(1===e._45&&(i(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)i(e,e._54[t]);e._54=null}}function s(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function l(e,t){var r=!1,n=function(e,t,r){try{e(t,r)}catch(e){return p=e,d}}(e,(function(e){r||(r=!0,a(t,e))}),(function(e){r||(r=!0,u(t,e))}));r||n!==d||(r=!0,u(t,p))}var f=r(723),p=null,d={};e.exports=o,o._10=null,o._97=null,o._61=n,o.prototype.then=function(e,t){if(this.constructor!==o)return function(e,t,r){return new e.constructor((function(a,u){var c=new o(n);c.then(a,u),i(e,new s(t,r,c))}))}(this,e,t);var r=new o(n);return i(this,new s(e,t,r)),r}},1803:function(e,t,r){function n(e){var t=new o(o._61);return t._81=1,t._65=e,t}var o=r(3434);e.exports=o;var i=n(!0),a=n(!1),u=n(null),c=n(void 0),s=n(0),l=n("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return u;if(void 0===e)return c;if(!0===e)return i;if(!1===e)return a;if(0===e)return s;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o((function(t,r){r(e)}))}return n(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o((function(e,r){function n(a,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof o&&u.then===o.prototype.then){for(;3===u._81;)u=u._65;return 1===u._81?n(a,u._65):(2===u._81&&r(u._65),void u.then((function(e){n(a,e)}),r))}var c=u.then;if("function"==typeof c)return void new o(c.bind(u)).then((function(e){n(a,e)}),r)}t[a]=u,0==--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)n(a,t[a])}))},o.reject=function(e){return new o((function(t,r){r(e)}))},o.race=function(e){return new o((function(t,r){e.forEach((function(e){o.resolve(e).then(t,r)}))}))},o.prototype.catch=function(e){return this.then(null,e)}},8029:function(e,t,r){var n=r(3434);e.exports=n,n.prototype.finally=function(e){return this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))}))}},6274:function(e,t,r){r.r(t),r.d(t,{Promise:function(){return u},default:function(){return c}});var n,o=r(1803),i=r.n(o),a=(r(8029),window.Promise),u=a&&null!=a&&null!==(n=a.prototype)&&void 0!==n&&n.finally?a:i(),c=null}},r={};e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):E.resolve(c).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new E((function(n,o){function i(e){a(c,n,o,i,u,"next",e)}function u(e){a(c,n,o,i,u,"throw",e)}var c=e.apply(t,r);i(void 0)}))}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function y(e){var t=p();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function w(e,t,r){return w=p()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&s(o,r.prototype),o},w.apply(null,arguments)}function _(e){var t="function"==typeof Map?new Map:void 0;return _=function(e){function r(){return w(e,arguments,f(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},_(e)}function O(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var R,E=e(6274).Promise,P=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t){e.splice(r,1);break}},N=e(4569),C=e(6274).Promise,A=function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;this.connect=function(){var t;e.target.addEventListener("message",e._onMessageEvent,!1),null===(t=e.target.document)||void 0===t||t.addEventListener("message",e._onMessageEvent,!1)},this.disconnect=function(){var t;e.target.removeEventListener("message",e._onMessageEvent),null===(t=e.target.document)||void 0===t||t.removeEventListener("message",e._onMessageEvent,!1)},this._onMessageEvent=function(t){if(e._onMessage&&t.origin!==e.target.location.origin&&t.data&&"string"==typeof t.data)try{var r=JSON.parse(t.data.toString());r.jsonrpc&&e._onMessage(r)}catch(t){e._onMessage(t)}},this.send=function(t){try{return e.target.ReactNativeWebView?e.target.ReactNativeWebView.postMessage(JSON.stringify(t)):e.target.ElectronWebview?e.target.ElectronWebview.postMessage(JSON.stringify(t)):e.target.top.postMessage(JSON.stringify(t),"*"),C.resolve()}catch(e){return C.reject(e)}},this.target=t}return r(e,[{key:"onMessage",get:function(){return this._onMessage},set:function(e){this._onMessage=e}}]),e}(),j=function(){function e(e){this.transport=e}var t,n;return r(e,[{key:"_request",value:(n=u((function*(e,t){if(!this.serverAndClient)throw new Error("Ledger Live API not connected");try{return yield this.serverAndClient.request(e,t)}catch(e){throw e}})),function(e,t){return n.apply(this,arguments)})},{key:"connect",value:function(){var e=this,t=new N.JSONRPCServerAndClient(new N.JSONRPCServer,new N.JSONRPCClient((function(t){return e.transport.send(t)})));this.transport.onMessage=function(e){return t.receiveAndSend(e)},this.transport.connect(),this.serverAndClient=t}},{key:"disconnect",value:function(){delete this.serverAndClient,this.transport.disconnect()}},{key:"requestAccount",value:(t=u((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=yield this._request("account.request",e);return t})),function(){return t.apply(this,arguments)})}]),e}(),k=/^(http(s)?):\/\//,M=function(e){if(!function(e){return k.test(e)}(e))return null;var t;try{t=new URL(e)}catch(r){(t=document.createElement("a")).href=e}var r=t.protocol,n=t.host,o=t.pathname,i=t.hash,a=/:80$/,u=/:443$/;return"http:"===r&&a.test(n)?n=n.replace(a,""):"https:"===r&&u.test(n)&&(n=n.replace(u,"")),{host:n,protocol:r,origin:"".concat(r,"//").concat(n),pathname:o,hash:i}},T=M("https://payments.stripe.com"),I=(T&&T.origin,new Set(["https://checkout.stripe.com","https://checkout.link.com","https://buy.stripe.com","https://book.stripe.com","https://donate.stripe.com","https://js.stripe.com"]),function(e,t){var r=M(e),n=M(t);return!(!r||!n)&&r.origin===n.origin}),J=function(e){return function(e){return I(e,"https://crypto-js.stripe.com/")}(e)||function(e){var t=M(e),r=t?t.host:"";return"stripe.com"===r||!!r.match(/\.stripe\.(com|me)$/)}(e)||function(e){var t,r=M(e),n=r?r.host:"";return n===((null===(t=M("https://checkout.link.com/"))||void 0===t?void 0:t.host)||"checkout.link.com")||"link.com"===n||!!n.match(/\.link\.(com)$/)}(e)},x=(e(6274).Promise,function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}),D=function(e){return e&&"object"==typeof e&&(e.constructor===Array||e.constructor===Object)},L=function(e){return D(e)?Array.isArray(e)?e.slice(0,e.length):b({},e):e},q=function e(t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];if(Array.isArray(n[0])&&t)return L(n[0]);var i=Array.isArray(n[0])?[]:{};return n.forEach((function(r){r&&Object.keys(r).forEach((function(n){var o=i[n],a=r[n],u=D(o)&&!(t&&Array.isArray(o));"object"==typeof a&&u?i[n]=e(t)(o,L(a)):void 0!==a?i[n]=D(a)?e(t)(a):L(a):void 0!==o&&(i[n]=o)}))})),i}},z=(q(!1),q(!0),function(e,t){return{type:"ONRAMP_WEBAUTHN_ERROR",code:e,challenges:t?g(g({},t),{},{lastError:e}):void 0}}),U=function(e){return{type:"LEDGER_WALLET_RESPONSE",response:e}},F=function(e,t,r,n){var o;null===(o=e.contentWindow)||void 0===o||o.postMessage(t,r,n)},K=function(e){for(var t=new Uint8Array(e),r="",n=0;n<t.length;n++){var o=t[n];r+=String.fromCharCode(o)}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},G=e(6274).Promise,B=function(){if(void 0===window.PublicKeyCredential||function(){if(!/CrOS/i.test(window.navigator.userAgent))return!1;var e=window.navigator.userAgent.match(/Chrome\/\d+\.\d+\.(\d+)\.(\d+)/)||[],t=Number(e[1]),r=Number(e[2]);return!(4389===t&&r>=82||4430===t&&r>=11||t>=4431)}()||function(){var e=/iPad|iPhone/i.test(window.navigator.userAgent),t=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)&&!/SamsungBrowser/.test(window.navigator.userAgent);if(!e||t)return!1;var r=window.navigator.userAgent.match(/OS (\d+)_(\d+)(_\d+)? like Mac OS X/)||[],n=parseInt(r[1],10),o=parseInt(r[2],10);return!isNaN(n)&&!isNaN(o)&&(15===n&&o>=4||n>15)}())return G.resolve(!1);var e=window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable(),t=new G((function(e){return setTimeout((function(){return e(!1)}),500)}));return G.race([e,t]).catch((function(){return!1}))},W=e(6274).Promise,H={border:"none",borderRadius:"8px",margin:"0",padding:"0","aspect-ratio":"2 / 3",width:"100%","min-width":"320px","min-height":"480px","max-width":"500px","max-height":"1000px",overflow:"hidden",display:"block","user-select":"none",transform:"translate(0)","color-scheme":"only light"},Y=function(e){function t(e){var t;return(t=n.call(this)).mount=function(e){if(!e)throw new Error("domElement is a required argument");if("string"!=typeof e)e.appendChild(t._frame);else{var r=e.replace(/^#/,""),n=document.getElementById(r);if(!n)throw new Error("Tried to mount onramp to #".concat(r," but it did not exist"));n.appendChild(t._frame)}return c(t)},t.setAppearance=function(e){var r=function(e){return{type:"ONRAMP_APPEARANCE",options:e}}(e);F(t._frame,r,t._frameSrc.origin)},t._webAuthnSupported=function(e){return B().then((function(r){var n=function(){var e=document.featurePolicy;if(!e)return!1;try{return-1!==e.allowedFeatures().indexOf("publickey-credentials-get")}catch(e){return!1}}(),o=r&&n&&!0,i=window.location.hostname;null==e||e.postMessage(function(e,t,r){return{type:"ONRAMP_WEBAUTHN_SUPPORTED_RESPONSE",supported:e,origin:r,metadata:t}}(o,{uvpAvailable:r,publickeyCredentialsGetAllowed:n},i),{targetOrigin:t._frameSrc.origin})}))},t._webAuthn=function(){var e=u((function*(e,r){var n;if(null!==(n=e.requestOptions.allowCredentials)&&void 0!==n&&n.length&&"LOGIN_FAILED"!==e.lastError){var o=null;try{o=yield navigator.credentials.get({publicKey:e.requestOptions})}catch(n){if(n.message&&/(relying party|RP ID|domain suffix)/.test(n.message))return void(null==r||r.postMessage(z("INCORRECT_DOMAIN",e),{targetOrigin:t._frameSrc.origin}))}if(!o)return void(null==r||r.postMessage(z("LOGIN_FAILED",e),{targetOrigin:t._frameSrc.origin}));var i=o.response,a={type:o.type,id:o.id,rawId:K(o.rawId),response:{clientDataJSON:K(i.clientDataJSON),authenticatorData:K(i.authenticatorData),signature:K(i.signature),userHandle:i.userHandle?K(i.userHandle):null}};null==r||r.postMessage({pk_with_assertion:JSON.stringify(a)},{targetOrigin:t._frameSrc.origin})}else{var u=null;try{u=yield navigator.credentials.create({publicKey:e.creationOptions})}catch(n){if(n.message&&/(already registered)/.test(n.message))return void(null==r||r.postMessage(z("ALREADY_REGISTERED",e),{targetOrigin:t._frameSrc.origin}));if(n.message&&/(relying party|RP ID|domain suffix)/.test(n.message))return void(null==r||r.postMessage(z("INCORRECT_DOMAIN",e),{targetOrigin:t._frameSrc.origin}))}if(!u)return void(null==r||r.postMessage(z("REGISTER_FAILED",e),{targetOrigin:t._frameSrc.origin}));var c=u.response,s={type:u.type,id:u.id,rawId:K(u.rawId),response:{clientDataJSON:K(c.clientDataJSON),attestationObject:K(c.attestationObject)}};null==r||r.postMessage({pk_with_attestation:JSON.stringify(s)},{targetOrigin:t._frameSrc.origin})}}));return function(t,r){return e.apply(this,arguments)}}(),t._runIdentitySession=function(e){var r=e.clientSecret;return window.Stripe(t._options.apiKey).verifyIdentity(r).then((function(e){var r,n;r=e.error?{type:"IDENTITY_ERROR",error:{type:(n=e.error.message).type,code:n.code}}:{type:"IDENTITY_COMPLETE"},F(t._frame,r,t._frameSrc.origin)}))},t._handleInjectedWalletClientRequestMessage=function(){var e=u((function*(e,t){var r,n=e.method,o=e.params,i=yield new W(function(){var e=u((function*(e){if("ethereum"in window)try{e({type:"response",data:yield window.ethereum.request({method:n,params:o})})}catch(t){e({type:"error",data:t})}else e({type:"error",data:"No injected wallet client found"})}));return function(t){return e.apply(this,arguments)}}()),a=function(e){return{type:"INJECTED_WALLET_CLIENT_RESPONSE",response:e}}(i);null===(r=t[0])||void 0===r||r.postMessage(a)}));return function(t,r){return e.apply(this,arguments)}}(),t._handleLedgerWalletRequestMessage=function(){var e=new A,r=new j(e);r.connect();try{t._callLedgerRequestAccount(r).then((function(e){F(t._frame,U(e),t._frameSrc.origin),r.disconnect()}))}catch(e){F(t._frame,U(null),t._frameSrc.origin),r.disconnect()}},t._callLedgerRequestAccount=function(){var e=u((function*(e){try{return(yield e.requestAccount()).address}catch(e){return null}}));return function(t){return e.apply(this,arguments)}}(),t._getOnrampTheme=function(){var e=t._options.appearance;return e&&"dark"===e.theme?"dark":"light"},t._setFrameSrc=function(){var e,r=t._options,n=r.apiKey,o=function(e){var t=e.parsedSecret,r=e.publishableKey,n=e.theme;return new URLSearchParams({clientSecret:t.client_secret,publishableKey:r,theme:n}).toString()}({parsedSecret:r.parsedSecret,publishableKey:n,theme:t._getOnrampTheme()});if("https://api.stripe.com/v1/".match(/^https:\/\/[a-z]+-api\.tunnel\.stripe\.me\/v1\/$/g)){var a=i(new URL("https://api.stripe.com/v1/").hostname.split("-api.tunnel.stripe.me"),1)[0];e="https://".concat(a,"-stripejs-crypto-onramp.tunnel.stripe.me/crypto-onramp")}else e="".concat("https://crypto-js.stripe.com/","crypto-onramp-hosted.html");return new URL("".concat(e,"?").concat(o))},t._createFrame=function(){var e=document.createElement("iframe");return e.setAttribute("frameborder","0"),e.setAttribute("tabindex","0"),e.setAttribute("allowTransparency","true"),e.setAttribute("scrolling","no"),e.setAttribute("allow","payment *; camera; publickey-credentials-get *"),e.setAttribute("title","onramp frame"),e.setAttribute("name","onramp"),e.src=t._frameSrc.toString(),e},t._updateStyle=function(e){Object.keys(e).forEach((function(r){t._frame.style[r]=e[r]}))},t._options=e,t._frameSrc=t._setFrameSrc(),t._frame=t._createFrame(),t._updateStyle(H),t.session=null,window.addEventListener("message",(function(e){if(e.origin===t._frameSrc.origin){var r,n=e.data,o=e.source,i=e.ports;if("object"==typeof n)if("type"in(r=n)&&"ONRAMP_READY"===r.type&&"session"in r)t.session=n.session,t.dispatchEvent({type:"onramp_ui_loaded",payload:{session:n.session}});else if(function(e){return"type"in e&&"ONRAMP_SESSION_UPDATE"===e.type&&"session"in e}(n))t.session=n.session,t.dispatchEvent({type:"onramp_session_updated",payload:{session:n.session}});else{if(function(e){return"type"in e&&"ONRAMP_ERROR"===e.type&&"error"in e&&"string"===e.error}(n))throw new Error(n.error);!function(e){return"ONRAMP_WEBAUTHN_SUPPORTED_REQUEST"===e.type}(n)?!function(e){return"object"==typeof e.creationOptions}(n)?!function(e){return"IDENTITY_START"===e.type&&"string"==typeof e.clientSecret}(n)?!function(e){return"INJECTED_WALLET_CLIENT_REQUEST"===e.type&&"string"==typeof e.method&&("object"==typeof e.params||void 0===e.params)}(n)?!function(e){return"FINISH_URL_REQUEST"===e.type&&"string"==typeof e.url}(n)?function(e){return"LEDGER_WALLET_REQUEST"===e.type}(n)&&t._handleLedgerWalletRequestMessage():window.location.href=n.url:t._handleInjectedWalletClientRequestMessage(n,i):t._runIdentitySession(n):t._webAuthn(n,o):t._webAuthnSupported(o)}}})),t}l(t,e);var n=y(t);return r(t)}(function(e){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r)))._callbacks={},e._globalCallbacks=[],e.dispatchEvent=function(t){var r=t.type,n=e._callbacks[r];return n&&n.forEach((function(e){return e(t)})),e._globalCallbacks.forEach((function(e){return e(t)})),c(e)},e.addEventListener=e.addEventListener.bind(c(e)),e.removeEventListener=e.removeEventListener.bind(c(e)),e}l(t,e);var n=y(t);return r(t,[{key:"addEventListener",value:function(e,t){return"*"===e?this._globalCallbacks.push(t):(this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)),this}},{key:"removeEventListener",value:function(e,t){if("*"===e)return P(this._globalCallbacks,t),this;var r=this._callbacks[e];return r?(P(r,t),0===r.length&&delete this._callbacks[e],this):this}}]),t}(r((function(){})))),$=Y,V=function(){if(document.currentScript&&"src"in document.currentScript){var e=M(document.currentScript.src);return!e||J(e.origin)}return!0}(),Q=(Error,function(e){function t(e){var t;return t=n.call(this,e),window.__stripeElementsController&&window.__stripeElementsController.reportIntegrationError(e),t.name="IntegrationError",Object.defineProperty(c(t),"message",{value:t.message,enumerable:!0}),t}l(t,e);var n=y(t);return r(t)}(_(Error))),Z=(Error,Error,Error,{aed:"aed",afn:"afn",all:"all",amd:"amd",ang:"ang",aoa:"aoa",ars:"ars",aud:"aud",awg:"awg",azn:"azn",bam:"bam",bbd:"bbd",bdt:"bdt",bgn:"bgn",bhd:"bhd",bif:"bif",bmd:"bmd",bnd:"bnd",bob:"bob",brl:"brl",bsd:"bsd",btn:"btn",bwp:"bwp",byn:"byn",byr:"byr",bzd:"bzd",cad:"cad",cdf:"cdf",chf:"chf",clf:"clf",clp:"clp",cny:"cny",cop:"cop",crc:"crc",cuc:"cuc",cup:"cup",cve:"cve",czk:"czk",djf:"djf",dkk:"dkk",dop:"dop",dzd:"dzd",egp:"egp",ern:"ern",etb:"etb",eur:"eur",fjd:"fjd",fkp:"fkp",gbp:"gbp",gel:"gel",ghs:"ghs",gip:"gip",gmd:"gmd",gnf:"gnf",gtq:"gtq",gyd:"gyd",hkd:"hkd",hnl:"hnl",htg:"htg",huf:"huf",idr:"idr",ils:"ils",inr:"inr",iqd:"iqd",irr:"irr",isk:"isk",jmd:"jmd",jod:"jod",jpy:"jpy",kes:"kes",kgs:"kgs",khr:"khr",kmf:"kmf",kpw:"kpw",krw:"krw",kwd:"kwd",kyd:"kyd",kzt:"kzt",lak:"lak",lbp:"lbp",lkr:"lkr",lrd:"lrd",lsl:"lsl",ltl:"ltl",lvl:"lvl",lyd:"lyd",mad:"mad",mdl:"mdl",mga:"mga",mkd:"mkd",mmk:"mmk",mnt:"mnt",mop:"mop",mro:"mro",mur:"mur",mvr:"mvr",mwk:"mwk",mxn:"mxn",myr:"myr",mzn:"mzn",nad:"nad",ngn:"ngn",nio:"nio",nok:"nok",npr:"npr",nzd:"nzd",omr:"omr",pab:"pab",pen:"pen",pgk:"pgk",php:"php",pkr:"pkr",pln:"pln",pyg:"pyg",qar:"qar",ron:"ron",rsd:"rsd",rub:"rub",rwf:"rwf",sar:"sar",sbd:"sbd",scr:"scr",sdg:"sdg",sek:"sek",sgd:"sgd",shp:"shp",skk:"skk",sll:"sll",sos:"sos",srd:"srd",ssp:"ssp",std:"std",svc:"svc",syp:"syp",szl:"szl",thb:"thb",tjs:"tjs",tmt:"tmt",tnd:"tnd",top:"top",try:"try",ttd:"ttd",twd:"twd",tzs:"tzs",uah:"uah",ugx:"ugx",usd:"usd",uyu:"uyu",uzs:"uzs",vef:"vef",vnd:"vnd",vuv:"vuv",wst:"wst",xaf:"xaf",xag:"xag",xau:"xau",xcd:"xcd",xdr:"xdr",xof:"xof",xpf:"xpf",yer:"yer",zar:"zar",zmk:"zmk",zmw:"zmw",btc:"btc",jep:"jep",eek:"eek",ghc:"ghc",mtl:"mtl",tmm:"tmm",yen:"yen",zwd:"zwd",zwl:"zwl",zwn:"zwn",zwr:"zwr"}),X=Object.keys(Z),ee={AE:"AE",AT:"AT",AU:"AU",BE:"BE",BG:"BG",BR:"BR",CA:"CA",CH:"CH",CI:"CI",CR:"CR",CY:"CY",CZ:"CZ",DE:"DE",DK:"DK",DO:"DO",EE:"EE",ES:"ES",FI:"FI",FR:"FR",GB:"GB",GI:"GI",GR:"GR",GT:"GT",HK:"HK",HR:"HR",HU:"HU",ID:"ID",IE:"IE",IN:"IN",IT:"IT",JP:"JP",LI:"LI",LT:"LT",LU:"LU",LV:"LV",MT:"MT",MX:"MX",MY:"MY",NL:"NL",NO:"NO",NZ:"NZ",PE:"PE",PH:"PH",PL:"PL",PT:"PT",RO:"RO",SE:"SE",SG:"SG",SI:"SI",SK:"SK",SN:"SN",TH:"TH",TT:"TT",US:"US",UY:"UY"},te=Object.keys(ee),re={live:"live",test:"test",unknown:"unknown"},ne=function(e,t,r){var n=r.path.reduce((function(e,t,r){return 0===r?t:0===t.indexOf(".")?"".concat(e,'["').concat(t,'"]'):"".concat(e,".").concat(t)}),"");return"undefined"===t?"Missing value for ".concat(r.label,": ").concat(n||"value"," should be ").concat(e,"."):"Invalid value for ".concat(r.label,": ").concat(n||"value"," should be ").concat(e,". You specified: ").concat(t,".")},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"valid",value:e,warnings:t}},ie=function(e){return{error:e,errorType:"full",type:"error"}},ae=function(e,t,r){return{expected:e,actual:String(t),options:r,errorType:"mismatch",type:"error"}},ue=function(e,t){return g(g({},e),{},{path:[].concat(O(e.path),[t])})},ce=function(e){return function(t,r){return void 0===t?oe(t):e(t,r)}},se=function(e){return function(t,r){return null===t?oe(t):e(t,r)}},le=function(e,t){return function(r,n){var o=x(e,(function(e){return e===r}));if(void 0===o){var i=t?"a recognized string":"one of the following strings: ".concat(e.join(", "));return ae(i,r,n)}return oe(o)}},fe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return le(t,!1)},pe=(fe.apply(void 0,O(te)),fe.apply(void 0,O(X)),fe.apply(void 0,O(Object.keys(re))),function(e,t){return"string"==typeof e?oe(e):ae("a string",e,t)}),de=function(e,t){return function(r,n){return void 0===r?oe(t()):e(r,n)}},he=function(e){return function(t,r){return Array.isArray(t)?t.map((function(t,n){return e(t,ue(r,String(n)))})).reduce((function(e,t){return"error"===e.type?e:"error"===t.type?t:oe([].concat(O(e.value),[t.value]),[].concat(O(e.warnings),O(t.warnings)))}),oe([])):ae("array",t,r)}},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unrecognizedKeyBehavior,n=t.name;return function(t,o){var i=null!=r?r:"warn";if(t&&"object"==typeof t&&!Array.isArray(t)){var a=t,u=x(Object.keys(a),(function(t){return!e[t]}));if(u&&"error"===i)return ie(new Q("Invalid ".concat(o.label," parameter: ").concat([].concat(O(o.path),[u]).join(".")," is not an accepted parameter.")));var c=Object.keys(a),s=oe("passthrough"===i?g({},t):{});return u&&"warn"===i&&(s=c.reduce((function(t,r){return e[r]?t:oe(t.value,[].concat(O(t.warnings),["Unrecognized ".concat(o.label," parameter: ").concat([].concat(O(o.path),[r]).join(".")," is not a recognized parameter. This may cause issues with your integration in the future.")]))}),s)),Object.keys(e).reduce((function(r,i){if("error"===r.type)return r;var u=(0,e[i])(a[i],ue(o,i));return"valid"===u.type&&void 0!==u.value?oe(g(g({},r.value),{},v({},i,u.value)),[].concat(O(r.warnings),O(u.warnings))):"valid"===u.type?oe(r.value,[].concat(O(r.warnings),O(u.warnings))):n?ae(n,t,o):u}),s)}return ae(null!=n?n:"an object",t,o)}},ve=function(e){return ye(e,{unrecognizedKeyBehavior:"warn"})},me=function(e,t){return ye(t,{unrecognizedKeyBehavior:"ignore",name:e})},ge=function(e){return ye(e,{unrecognizedKeyBehavior:"ignore"})},be=function(e,t,r,n){var o=function(e,t,r,n){var o=n||{},i=e(t,{authenticatedOrigin:o.authenticatedOrigin||"",element:o.element||"",label:r,path:o.path||[]});return"valid"===i.type||"full"===i.errorType?i:{type:"error",errorType:"full",error:new Q(ne(i.expected,i.actual,i.options))}}(e,t,r,n);switch(o.type){case"valid":return{value:o.value,warnings:o.warnings};case"error":throw o.error;default:return function(e){throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absurd")}(o)}},we=me("an Element",{_componentName:pe,_groupId:pe,_implementation:ve({_frame:ve({id:pe})})}),_e=(me("an Elements group",{_elements:he(we),_id:pe,_isSubmitting:function(e,t){return"boolean"==typeof e?oe(e):ae("a boolean",e,t)},_commonOptions:ge({paymentMethodCreation:ce(fe("manual")),payment_method_types:ce(se(he(pe))),paymentMethodTypes:ce(se(he(pe))),clientSecret:ce(se(ge({id:pe,clientSecret:pe,type:pe}))),mode:ce(se(pe))}),_controller:ge({_id:pe})}),ve({apiKey:pe})),Oe=ve({theme:de(pe,(function(){return"light"}))}),Se=ve({clientSecret:pe,appearance:de(Oe,(function(){return{theme:"light"}}))}),Re=r((function(e){var t=this;this.createSession=function(e){var r=be(Se,e||{},"OnrampSession()").value,n=r.clientSecret,o=r.appearance,a=function(e){var t=e.trim().match(/^((cos)_[^_]+)_secret_[^-]+$/);if(t){var r=i(t,3),n=r[0],o=r[1];if("cos"===r[2])return{crypto_onramp_session:o,client_secret:n}}return{error:"Failed to parse client secret"}}(n);if("error"in a)throw new Q("Invalid client secret: ".concat(n));return new $({apiKey:t._apiKey,parsedSecret:a,appearance:o})},this._ensureEnvironment=function(){if(window.self!==window.top)throw new Q("Stripe Crypto Onramp is not able to run in an iframe. Please redirect to Onramp at the top level.");if(!V)throw new Q("Crypto.js must be loaded from js.stripe.com. For more information TODO Docs Link");if(!window.hasOwnProperty("Stripe"))throw new Q("Please include StripeJS alongside Stripe Crypto Onramp. See https://stripe.com/docs/js/including")};var r=be(_e,e||{},"Onramp()").value.apiKey;this._apiKey=r.trim(),this._ensureEnvironment()})),Ee=["supported_destination_currencies","supported_destination_networks","amount"],Pe=(R=function(e,t){var r=pe(e,t);if("error"===r.type)return r;var n=Number(r.value);return isNaN(n)?ae("a numeric string",e,t):oe(n)},function(e,t){return!e||"object"!=typeof e||Array.isArray(e)?ae("object",e,t):Object.keys(e).reduce((function(r,n){if("error"===r.type)return r;var o=R(e[n],ue(t,n));return"error"===o.type?o:oe(g(g({},r.value),{},v({},n,o.value)),[].concat(O(r.warnings),O(o.warnings)))}),oe({}))}),Ne=fe.apply(void 0,["btc","sol","matic","eth","usdc"]),Ce=fe.apply(void 0,["bitcoin","ethereum","solana","polygon"]),Ae=ve({destination_currency:ce(Ne),destination_network:ce(Ce),supported_destination_currencies:ce(he(Ne)),supported_destination_networks:ce(he(Ce)),amount:ce(Pe)}),je=r((function(e){var t=this;this.getUrl=function(){var e=t._options,r=e.supported_destination_currencies,n=e.supported_destination_networks,o=e.amount,a=S(e,Ee);return r&&(a.supported_destination_currencies=r.toString()),n&&(a.supported_destination_networks=n.toString()),o&&Object.entries(o).forEach((function(e){var t=i(e,2),r=t[0],n=t[1];return a[r]=n})),"".concat("https://crypto.link.com","?").concat(new URLSearchParams(a).toString())};var r=be(Ae,e||{},"StandaloneOnramp()").value;this._options=r})),ke=function(e){return new Re({apiKey:e})};ke.Standalone=function(e){return new je(e)},window.StripeOnramp?window.console&&console.warn("It looks like Stripe Crypto Onramp was loaded multiple times. Please only load it once per page."):window.StripeOnramp=ke}()}();